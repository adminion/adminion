{"ts":1366255730465,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"\n/**\n * Module dependencies.\n */\n\nvar express = require('express')\n  , routes = require('./routes');\n\nvar app = module.exports = express.createServer();\n\n// Configuration\n\napp.configure(function(){\n  app.set('views', __dirname + '/views');\n  app.set('view engine', 'jade');\n  app.use(express.bodyParser());\n  app.use(express.methodOverride());\n  app.use(app.router);\n  app.use(express.static(__dirname + '/public'));\n});\n\napp.configure('development', function(){\n  app.use(express.errorHandler({ dumpExceptions: true, showStack: true }));\n});\n\napp.configure('production', function(){\n  app.use(express.errorHandler());\n});\n\n// Routes\n\napp.get('/', routes.index);\n\napp.listen(3000);\nconsole.log(\"Express server listening on port %d in %s mode\", app.address().port, app.settings.env);\n"]],"start1":0,"start2":0,"length1":0,"length2":783}]],"length":783}
{"contributors":[],"silentsave":false,"ts":1366255780692,"patch":[[{"diffs":[[0,"ten("],[-1,"3000"],[1,"1337"],[0,");\nc"]],"start1":671,"start2":671,"length1":12,"length2":12}]],"length":783,"saved":false}
{"contributors":[],"silentsave":false,"ts":1366257601413,"patch":[[{"diffs":[[0,"press')\n"],[1,"  , io = require('socket.io').listen(app)\n"],[0,"  , rout"]],"start1":59,"start2":59,"length1":16,"length2":58}]],"length":825,"saved":false}
{"ts":1366257669319,"patch":[[{"diffs":[[0,"*/\n\nvar "],[-1,"expres"],[1,"app = module.export"],[0,"s = requ"]],"start1":30,"start2":30,"length1":22,"length2":35},{"diffs":[[0,"xpress')"],[1,".createServer();"],[0,"\n  , io "]],"start1":71,"start2":71,"length1":16,"length2":32},{"diffs":[[0,");\n\n"],[-1,"var app = module.exports = express.createServer();\n\n"],[0,"// C"]],"start1":169,"start2":169,"length1":60,"length2":8}]],"length":802,"saved":false}
{"ts":1366257857891,"patch":[[{"diffs":[[0,"Server()"],[-1,";"],[0,"\n  , io "]],"start1":86,"start2":86,"length1":17,"length2":16},{"diffs":[[0,"es.index);\n\n"],[1,"// Sockets\n\nio.sockets.on('connection', function (socket) {\n  socket.emit('news', { hello: 'world' });\n  socket.on('my other event', function (data) {\n    console.log(data);\n  });\n\n"],[0,"app.listen(1"]],"start1":670,"start2":670,"length1":24,"length2":205},{"diffs":[[0,"s.env);\n"],[1,"\n\n"]],"start1":974,"start2":974,"length1":8,"length2":10}]],"length":984,"saved":false}
{"ts":1366258007368,"patch":[[{"diffs":[[0,"ar app ="],[1," express ="],[0," module."]],"start1":35,"start2":35,"length1":16,"length2":26},{"diffs":[[0,");\n  });"],[1,"\n});"],[0,"\n\napp.li"]],"start1":863,"start2":863,"length1":16,"length2":20}]],"length":998,"saved":false}
{"ts":1366258158523,"patch":[[{"diffs":[[0,"var "],[-1,"app = "],[0,"express"],[1," = require('express')\n  , routes = require('./routes');\n\nvar app"],[0," = m"]],"start1":34,"start2":34,"length1":21,"length2":79},{"diffs":[[0,"ports = "],[-1,"require('"],[0,"express"],[-1,"')"],[0,".createS"]],"start1":121,"start2":121,"length1":34,"length2":23},{"diffs":[[0,"Server()"],[-1,"\n  ,"],[1,";\nvar"],[0," io = re"]],"start1":143,"start2":143,"length1":20,"length2":21},{"diffs":[[0,"app)"],[-1,"\n  , routes = require('./routes')"],[0,";\n\n/"]],"start1":190,"start2":190,"length1":41,"length2":8},{"diffs":[[0,");\n\n"],[-1,"// Sockets\n\nio.sockets.on('connection', function (socket) {\n  socket.emit('news', { hello: 'world' });\n  socket.on('my other event', function (data) {\n    console.log(data);\n  });\n});\n\n"],[0,"app."]],"start1":703,"start2":703,"length1":193,"length2":8},{"diffs":[[0,"s.env);\n"],[-1,"\n\n"]],"start1":818,"start2":818,"length1":10,"length2":8}]],"length":826,"saved":false}
{"ts":1366258506106,"patch":[[{"diffs":[[0,"es.index);\n\n"],[1,"// socket.io\n\nio.sockets.on('connection', function (socket) {\n    console.log(\"socket: %j\", socket);\n    io.sockets.emit('this', { will : 'be received by everyone'}\n  );\n\n  socket.on('private message', function (from, msg) {\n    console.log('I received a private message by ', from, ' saying ', msg);\n  });\n\n  socket.on('disconnect', function () {\n    io.sockets.emit('user disconnected');\n  });\n});\n\n"],[0,"app.listen(1"]],"start1":695,"start2":695,"length1":24,"length2":425}]],"length":1227,"saved":false}
{"ts":1366258795810,"patch":[[{"diffs":[[0,"it('"],[-1,"thi"],[1,"new"],[0,"s', "]],"start1":825,"start2":825,"length1":11,"length2":11}]],"length":1227,"saved":false}
{"contributors":[],"silentsave":false,"ts":1366664537389,"patch":[[{"diffs":[[0,"  , "],[-1,"routes = require('./routes');\n\nvar app = module.exports = express.createServer();\nvar io = require('socket.io').listen(app);\n\n// Configuration\n\napp.configure(function(){\n  "],[1,"socketio = require('socket.io')\n  , routes = require('./routes')\n  , user = require('./routes/user')\n  , http = require('http')\n  , path = require('path')\n  , util = require('util');\n\nvar app = express();\n\n// all environments\napp.set('port', process.env.PORT || 1337);\n"],[0,"app."]],"start1":67,"start2":67,"length1":180,"length2":277},{"diffs":[[0," '/views');\n"],[-1,"  "],[0,"app.set('vie"]],"start1":368,"start2":368,"length1":26,"length2":24},{"diffs":[[0,"jade');\n"],[-1,"  "],[1,"app.use(express.favicon());\napp.use(express.logger('dev'));\n"],[0,"app.use("]],"start1":404,"start2":404,"length1":18,"length2":76},{"diffs":[[0,"yParser());\n"],[-1,"  "],[0,"app.use(expr"]],"start1":491,"start2":491,"length1":26,"length2":24},{"diffs":[[0,"ide());\n"],[-1,"  "],[0,"app.use("]],"start1":530,"start2":530,"length1":18,"length2":16},{"diffs":[[0,"outer);\n"],[-1,"  "],[0,"app.use("]],"start1":551,"start2":551,"length1":18,"length2":16},{"diffs":[[0,".static("],[1,"path.join("],[0,"__dirnam"]],"start1":574,"start2":574,"length1":16,"length2":26},{"diffs":[[0,"_dirname"],[-1," +"],[1,","],[0," '"],[-1,"/"],[0,"public')"]],"start1":593,"start2":593,"length1":21,"length2":19},{"diffs":[[0,"c'))"],[-1,";\n}"],[0,");\n\n"],[-1,"app.configure('development', function(){\n  app.use(express.errorHandler({ dumpExceptions: true, showStack: true }));\n});\n\napp.configure('production', function()"],[1,"// development only\nif ('development' == app.get('env')) "],[0,"{\n  "]],"start1":609,"start2":609,"length1":175,"length2":69},{"diffs":[[0,");\n}"],[-1,");\n\n// Routes"],[1,""],[0,"\n\nap"]],"start1":708,"start2":708,"length1":21,"length2":8},{"diffs":[[0,"x);\n"],[-1,"\n// socket.io\n"],[1,"app.get('/users', user.list);\n\nvar server = http.createServer(app);\nvar io = socketio.listen(server);\n\nserver.listen(app.get('port'), function(){\n  console.log('Express server listening on port ' + app.get('port'));\n});\n\n\n\n// define socket connection callback"],[0,"\nio."]],"start1":738,"start2":738,"length1":22,"length2":267},{"diffs":[[0,"nction ("],[-1,"s"],[1,"newS"],[0,"ocket) {"]],"start1":1032,"start2":1032,"length1":17,"length2":20},{"diffs":[[0,") {\n"],[-1,"    console.log(\""],[1,"\t//log the socket for debug purposes \n\t// NOTE trying to log it as a JSON will call stupid error\n\t\n\tnewSocket.on('changeName', function(data) {\n\t\tvar msg = {\n\t\t\t"],[0,"socket"],[1," "],[0,": "],[-1,"%j\", socket);\n    io.sockets.emit('news', { will : 'be received by everyone'}\n  );\n\n  socket.on('private message', function (from,"],[1,"util.format('%s - You changed your name to %s.', new Date(), data.after),\n\t\t\tgroup : util.format('%s - %s changed their name to %s.', new Date(), data.before, data.after)\n\t\t};\n\t\t\n\t\t// tell the socket the change was successful\n\t\tnewSocket.emit('news', { update: msg.socket});\n\t\t\n\t\t// announce the new name to the group\n\t\tnewSocket.broadcast.emit('news', { update: msg.group});\n\t\tconsole.log(msg.group);\n\t});\n\t\n\tnewSocket.on('joinGame', function(data) {\n\t\tvar"],[0," msg"],[-1,") {\n    console.log('I received a private message by ', from, ' saying ', msg);\n  });\n\n  socket.on('disconnect', function () {\n    io.sockets.emit('user disconnected');\n  "],[1," = {\n\t\t\tsocket : util.format('welcome to Adminion, %s!', data.name),\n\t\t\tgroup : util.format('%s - %s has joined the game.', new Date(), data.name)\n\t\t};\n\t\t\n\t\t// welcome the new socket to the conversation\n\t\tnewSocket.emit('news', { update: msg.socket});\n\t\t\n\t\t// announce the new connection to the group\n\t\tnewSocket.broadcast.emit('news', { update: msg.group});\n\t\tconsole.log(msg.group);\n\t});\n\t\n\tnewSocket.on('kyleIsLame', function (data) {\n\t\tnewSocket.broadcast.emit('haha', {"],[0,"});\n"],[1,"\t"],[0,"});\n"],[-1,"\napp.listen(1337"],[1,"\t\n\tnewSocket.on('public message', function (data) {\n\t\tvar update = util.format('%s - %s: %s', new Date(), data.from, data.msg"],[0,");\n"],[1,"\t\t"],[0,"cons"]],"start1":1049,"start2":1049,"length1":365,"length2":1252},{"diffs":[[0,"log("],[-1,"\"Express server listening on port %d in %s mode\", app.address().port, app.settings.env);\n"],[1,"'public message from %s', update);;\n\t\tnewSocket.emit('news', { update: update});\n\t\tnewSocket.broadcast.emit('news', { update: update});\n\t});\n});"]],"start1":2305,"start2":2305,"length1":93,"length2":148}]],"length":2453,"saved":false}
